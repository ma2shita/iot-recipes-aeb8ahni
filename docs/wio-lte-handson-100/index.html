
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Wio LTE ハンズオン / 初級編</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-66865146-33"></google-codelab-analytics>
  <google-codelab codelab-gaid="UA-160680510-1"
                  id="wio-lte-handson-100"
                  title="Wio LTE ハンズオン / 初級編"
                  environment="web"
                  feedback-link="https://github.com/googlecodelabs/your-first-pwapp/issues">
    
      <google-codelab-step label="Wio LTE ハンズオン / 初級編" duration="0">
        <p>デバイスのソフトウェア開発における手順や工数削減手法を、LTEモデム付きプロトタイプ向けデバイス &#34;Wio LTE&#34; とSORACOM Harvest や SORACOM Lagoon、そして SORACOM ならではの機能を活用した IoT システム作りを学んでいただけます。</p>
<p>IoT システム構築に不可欠なデバイス開発の現場と課題、そして SORACOM が提供するサービスを活用することによるデバイス開発におけるメリットを、セミナーだけでなくハンズオンを通じて学ぶことができる内容となっています。</p>
<h2 is-upgraded>本ハンズオンで得られること</h2>
<h3 is-upgraded>構成</h3>
<p class="image-container"><img style="width: 661.72px" src="img/6c86286b94b53950.png"></p>
<h2 is-upgraded><img style="width: 615.00px" src="img/bb7206702289971f.png"></h2>
<h2 is-upgraded>ハンズオンの進め方</h2>
<p>右下の［NEXT］で進んでいってね。</p>
<p>aaaaa</p>
<google-codelab-survey survey-id="wio-lte-handson-100-1">
<h4>質問！！どこから来ましたか？</h4>
<paper-radio-group>
<paper-radio-button>aaaa</paper-radio-button>
<paper-radio-button>bbbb</paper-radio-button>
<paper-radio-button>静岡</paper-radio-button>
</paper-radio-group>
</google-codelab-survey>


      </google-codelab-step>
    
      <google-codelab-step label="ご用意いただくもの" duration="0">
        <p>セミナー当日にご持参ください</p>
<ul>
<li><strong>パソコン / 1台<br></strong>※タブレット等の下記に当てはまらないPCでの受講は自己責任としております</li>
<li>Wi-Fi 接続可能</li>
<li>USB Type-A ポートが最低1つ以上あり、利用可能なこと</li>
<li>電力供給が1A以上であること<br>※USB 3.0対応していれば概ね問題ありません</li>
<li>USB Type-C のみの機種につきましては、Type-A への変換アダプタのご用意をお願いいたします</li>
<li>ブラウザ: Google Chrome がインストールされている事</li>
<li><strong>SORACOM アカウント登録に必要なもの / 1式</strong></li>
<li>有効なクレジットカード</li>
<li>その場で確認可能なメールアドレス</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="SORACOM アカウントの登録" duration="0">
        <h2 is-upgraded>SORACOM アカウントの作成</h2>
<p>SORACOM Webコンソール ( <a href="https://console.soracom.io/#/signup" target="_blank">https://console.soracom.io/#/signup</a>) にアクセスします。</p>
<p>使用する SIM の種類を選択します。日本向けの SORACOM Air SIM を利用する場合は、カバレッジタイプ Japan を選択します。</p>
<p class="image-container"><img style="width: 662.00px" src="img/5a4506c7a9e1305c.png"></p>
<p>「アカウント作成」画面が表示されますのでメールアドレスおよびパスワードを入力します。 また、契約者が個人であるか法人であるかを選び、法人の場合はさらに契約者の情報を入力します。 最後に規約に同意するためのチェックボックスを入れ、「アカウントを作成」ボタンを押します。</p>
<p class="image-container"><img style="width: 565.11px" src="img/911cc46bb0d2df31.png"></p>
<p>複数人でAir SIMの管理を行う場合は、事前にメーリングリストのアドレスを取得するなど、共有のメールアドレスをご利用ください。 下記の画面が表示されるので、メールを確認してください。</p>
<p class="image-container"><img style="width: 554.36px" src="img/928269cf67ab8b4f.png"></p>
<p>メールが届いたらリンクをクリックしてください。</p>
<p class="image-container"><img style="width: 571.36px" src="img/d6b89d6efee982c9.png"></p>
<p>自動的にログイン画面に遷移しますので、メールアドレスとパスワードを入力してログインしてください。</p>
<h2 is-upgraded>ユーザーコンソールへのログイン</h2>
<p>ログイン画面が表示されるので、アカウント作成時に登録したメールアドレスとパスワードを入力し、 [ログイン] ボタンをクリックしてください。(ログイン画面が表示されない場合はブラウザで <a href="https://console.soracom.io" target="_blank">https://console.soracom.io</a> にアクセスします。)</p>
<p class="image-container"><img style="width: 574.36px" src="img/f918c99c1be6fdda.png"></p>
<p>以下のような「SIM管理」画面が表示されたらログイン完了です。引き続き、支払情報の設定に進みましょう！ <img style="width: 600.36px" src="img/5e12fd91026b0fa5.png"></p>
<h2 is-upgraded>支払情報の設定</h2>
<p>通信料の支払い方法はクレジットカードになります。クレジットカードの情報を登録するには、メイン画面上部のユーザー名から[お支払い方法設定]を開きます。</p>
<p class="image-container"><img style="width: 592.36px" src="img/f3e0b03fdf200c26.png"></p>
<p>お支払方法で各情報を入力し、支払い方法を登録します。</p>
<p class="image-container"><img style="width: 429.36px" src="img/8063466368f5a24f.png"></p>
<p>ユーザーコンソールでの Air SIM の登録</p>
<p>ユーザーコンソールにログインして、Air SIM の登録を行います。左上の [SIM登録] ボタンをクリックします。</p>
<p class="image-container"><img style="width: 570.36px" src="img/75686dd444f0d03.png"></p>
<p>「SIM登録」画面で、Air SIM の台紙の裏面に貼ってある IMSI と PASSCODE を入力してください。</p>
<p class="image-container"><img style="width: 585.36px" src="img/c128534443fe3c03.png"></p>
<p>名前、グループは空欄のままでも構いません。 「技術基準適合証明等について確認しました」チェックボックスを付けてください。 [登録] を押して SIM 登録を完了してください。（複数の Air SIM を続けて登録することも可能です。）</p>
<p class="image-container"><img style="width: 620.36px" src="img/3f709b8689722c89.png"></p>
<p>Air SIM を登録した直後の状態は「準備完了」と表示され、通信可能な状態になっています。ただし、まだセッションは確立されていないので、セッション状態は「オフライン」になっていることを確認してください。</p>
<p>SORACOMではSIMの登録や「使用開始」「休止」「解約」といったモバイル通信の状態の更新をユーザー自身がユーザーコンソールを使用して、実施することが可能です。</p>


      </google-codelab-step>
    
      <google-codelab-step label="Wio LTE のセットアップを行う" duration="0">
        <h2 is-upgraded>Wio LTE とは？</h2>
<p>Wio LTE は Seeed Studio が開発・販売しているマイコンモジュールです</p>
<p>Grove コネクタと STM32F4 マイコン、LTE Cat.1 モジュールが搭載されており、 Arduino IDE で素早くプロトタイピングができます</p>
<p class="image-container"><img style="width: 662.00px" src="img/6a6e2523bba47009.png"></p>
<h2 is-upgraded>Wio LTE 各部の名称</h2>
<p><strong>※この項は知識として知っておいてください</strong></p>
<p class="image-container"><img style="width: 344.57px" src="img/d9cb24b0fd13e618.png"></p>
<h2 is-upgraded>作業: アンテナの取り付け</h2>
<p>アンテナの取り付けはかなり力を要しますが、無理をしないようお願いいたします。</p>
<p class="image-container"><img style="width: 623.36px" src="img/6c839f788b258d73.png"></p>
<h2 is-upgraded>作業: SIM の取り付け方、外し方</h2>
<h3 is-upgraded>取付け</h3>
<p class="image-container"><img style="width: 314.74px" src="img/d088375164404cbc.jpeg"><img style="width: 304.50px" src="img/89851536607e9a4b.jpeg"></p>
<h3 is-upgraded>取り外し</h3>
<p class="image-container"><img style="width: 314.50px" src="img/ee17a822352948ef.jpeg"><img style="width: 315.00px" src="img/1461b011573b3c6d.jpeg"></p>
<h2 is-upgraded>作業: 温湿度センサーの取り付け</h2>
<p><img style="width: 155.36px" src="img/b775fb0048dfbd62.png">温度センサー (DHT11) 付属の 「Grove コネクタケーブル」を使って<br>Wio LTE の「<strong>D38</strong>」へ取り付けてください</p>
<h2 is-upgraded>作業: 確認</h2>
<p>全ての作業を終えると、以下のようになります</p>
<p class="image-container"><img style="width: 553.36px" src="img/54da4b2f3f3873fb.png"></p>
<h2 is-upgraded>Wio LTE の電源ON/OFFの方法</h2>
<p><strong>※この項は知識として知っておいてください</strong></p>
<p>Wio LTE には電源スイッチがありませんので、下記作業で ON / OFF してください</p>
<table>
<tr><td colspan="1" rowspan="1"><h3 is-upgraded>電源 ON</h3>
<p>microUSB ケーブルを Wio LTE の microUSB ポートに接続すると自動的にONになります</p>
<p class="image-container"><img style="width: 317.00px" src="img/6ec5fa07fd6bb2cb.jpeg"></p>
</td><td colspan="1" rowspan="1"><h3 is-upgraded>電源OFF</h3>
<p>microUSB ケーブルを抜きます</p>
<p>いきなり抜いて OK です</p>
<p>※シャットダウン処理は不要です<br>これがマイコンのメリットの一つです</p>
</td></tr>
</table>


      </google-codelab-step>
    
      <google-codelab-step label="温湿度センサーの値を SORACOM Harvest で可視化" duration="0">
        <p>クラウド側のシステムを用意せず、まずデバイスとセルラー通信の稼働を確認するために、SORACOM Harvest による可視化を行います</p>
<p>構築対象システムを減少することができるため、コンポーネントの動作確認を一つづつ確認していく事ができることを学びます</p>
<p>(目標: 20分)</p>
<h2 is-upgraded>構成のゴール</h2>
<h2 is-upgraded><img style="width: 615.00px" src="img/bb7206702289971f.png"></h2>
<h3 is-upgraded>作業手順の概要</h3>
<ol type="1" start="1">
<li>Wio LTE の電源を OFF</li>
<li>SORACOM Harvest の設定</li>
<li>Wio LTE の電源を ON</li>
<li>データの確認</li>
</ol>
<h2 is-upgraded>ハンズオン</h2>
<h3 is-upgraded>作業: Wio LTE の電源を OFF</h3>
<p>Wio LTE の microUSB ケーブルを抜き、電源を OFF にしてください</p>
<p>※いきなり抜いて OK です</p>
<p>※すでに OFF になっている場合は、次の作業へ進んでください</p>
<h3 is-upgraded>作業: SORACOM Harvest の設定</h3>
<ol type="1" start="1">
<li>SORACOM Webコンソール ( <a href="https://console.soracom.io" target="_blank">https://console.soracom.io</a> ) で 左上[Menu] &gt; [SIM グループ]<br><img style="width: 234.61px" src="img/de9a9450aa5dd4ce.png"><img style="width: 236.50px" src="img/b93cf216ff9aa37.png"><br></li>
</ol>
<ol type="1" start="1">
<li>[追加] で、SIMグループを作成します<br><img style="width: 380.00px" src="img/743cb8ac6d0003f3.png"><br><br>グループ名 harvest もしくは 任意 でかまいません<br><img style="width: 508.50px" src="img/e344dd4183200b11.png"><br></li>
<li>先ほど作成した SIMグループ をクリックすると、グループの詳細が開きます<br><img style="width: 274.76px" src="img/61a63ff1e7a64b9d.png"> <br></li>
<li>SIM グループの詳細で SORACOM Harvest の設定 開き、SORACOM Harvest を ON にし、<br>保存をクリックします<br><img style="width: 334.42px" src="img/d799069ea7f21bc7.png"><br></li>
<li>先ほど設定した SIM グループへ、 Wio LTE に挿している SIM を所属させます<br>左上[Menu] &gt; [SIM 管理]<br><img style="width: 254.88px" src="img/de9a9450aa5dd4ce.png"><img style="width: 261.57px" src="img/63c52804c6eb2c76.png"></li>
</ol>
<ol type="1" start="1">
<li>Wio LTE に取り付けている SIM を選択 &gt; [操作] &gt; [所属グループ変更]<br><img style="width: 354.36px" src="img/11ac22c39dba32c0.png"></li>
<li>先ほど作成した SIMグループ に所属させる<br><img style="width: 445.36px" src="img/558f831c45f73674.png"></li>
</ol>
<p>以下のように SIM がさきほど登録した SIMグループ になっていることが確認できます</p>
<p>この状態で &#34;Wio LTE&#34; と書かれている SIM は SORACOM Harvest が使用可能な状態になりました</p>
<p class="image-container"><img style="width: 417.36px" src="img/cb2b1481ad99d526.png"></p>
<h3 is-upgraded>作業: Wio LTE の電源を ON にする<img style="width: 312.50px" src="img/6ec5fa07fd6bb2cb.jpeg"></h3>
<p>Wio LTE と PC を microUSB ケーブルで接続してください</p>
<p>Wio LTE に電源が供給されると Wio LTE にあらかじめ書き込まれたプログラムが開始されます</p>
<p>※お配りした Wio LTE には「D38 に接続されたデジタル温湿度センサーを SORACOM Harvest に送信する」プログラムが書き込まれています<br><br>このプログラムの詳細は付録にて紹介しています</p>
<h3 is-upgraded>作業: データの確認</h3>
<p>送信されたデータを SORACOM Harvest で確認してみましょう</p>
<ol type="1" start="1">
<li>左上[Menu] &gt; [SIM 管理]<br><img style="width: 197.36px" src="img/de9a9450aa5dd4ce.png"><img style="width: 202.36px" src="img/63c52804c6eb2c76.png"></li>
<li>Wio LTE に取り付けている SIM を SORACOM Webコンソール上で選択し<br>[操作] &gt; [データを表示]<br><img style="width: 323.36px" src="img/e56d784e18e0230a.png"><br></li>
</ol>
<p>以下のように、温度・湿度のデータが、それぞれ temp humi として SORACOM Harvest 上で<br>可視化されています</p>
<p><img style="width: 452.36px" src="img/bc18b1fc7a829519.png">.</p>
<p>※自動更新を ON にすることで、半リアルタイムにグラフが描画されます</p>
<h3 is-upgraded>作業: Wio LTE の電源を OFF</h3>
<p>Wio LTE の microUSB ケーブルを抜き、電源を OFF にしてください</p>
<p>※いきなり抜いて OK です</p>
<h2 is-upgraded>SORACOM Harvest の見方、機能</h2>
<p><strong>※この項は知識として知っておいてください</strong></p>
<p>データ蓄積・収集・可視化ツールである SORACOM Harvest の機能をご紹介します</p>
<h3 is-upgraded><img style="width: 661.42px" src="img/b855f3b5e34ebbe0.png"></h3>
<h2 is-upgraded>本章のおさらい</h2>
<p><strong>※この項は知識として知っておいてください</strong></p>
<p>ここまでの操作で、下記構成が実現されました<img style="width: 615.00px" src="img/bb7206702289971f.png"></p>
<h3 is-upgraded>トラブルシュート</h3>
<p><strong>Wio LTE の電源が ON になっても SORACOM Harvest でデータが表示されない</strong></p>
<p>考えられる原因１: 対象の SIM に対して SORACOM Harvest が有効化されていない場合があります</p>
<p>確認: SIM に対するエラーが発生していないか、ログを確認することで状況がわかる場合があります</p>
<p>SIM を選択 &gt; [操作] &gt; [ログを確認]<br><img style="width: 401.36px" src="img/d599fe5651019e.png"><br><img style="width: 661.72px" src="img/a3dfa0f3f48c4678.png"></p>
<p>上記のように「SORACOM Harvest の設定がされていない」といった形で原因特定が可能です</p>
<p>対策: SIM が SORACOM Harvest が有効化されているグループに所属しているか確認します</p>
<p>考えられる原因２: センサーが正しく取り付けられていない場合があります</p>
<p>確認: 温度センサー (DHT11) が Wio LTE の「D38」に接続されているか確認します。Wio LTE には 6つのGroveコネクタがありますが、D38と書かれているのは６つのうち１つだけです</p>
<p>対策: 温度センサーは「D38」へ取り付けてください</p>


      </google-codelab-step>
    
      <google-codelab-step label="SORACOM Lagoon を活用したデータ共有" duration="0">
        <p>SORACOM Harvest は SORACOM アカウント内でデバイスからのデータをいち早く確認するためのツールですが、ビジネスで活用しようとした場合はデータの活用が必須となります。</p>
<p>具体的には「データの共有」と「条件によるアラート」です。</p>
<p>SORACOM Lagoon はその二つを備えており、SORACOM Harvest に蓄積されたデータを即座に活用することが可能です。</p>
<p class="image-container"><img style="width: 661.72px" src="img/cf2d7d5c6bc48e6c.png"></p>
<h2 is-upgraded>SORACOM Lagoon について</h2>
<p><strong>※この項は知識として知っておいてください</strong></p>
<p>SORACOM Lagoon はダッシュボードを作成し、&#34;SORACOM Lagoon ユーザー&#34; と共有できるサービスです。SORACOM Lagoon ユーザーは SORACOM アカウントを持っていれば自由に作成・管理可能で、だれと共有するかを決めることができます。</p>
<p>その他、条件を設定し、Email や Slack、LINEといったメッセージングツールへのアラート送信も可能です。</p>
<h2 is-upgraded>ハンズオン</h2>
<h3 is-upgraded>SORACOM Lagoon (Free プラン) を有効化する</h3>
<ol type="1" start="1">
<li>SORACOM Webコンソール ( <a href="https://console.soracom.io" target="_blank">https://console.soracom.io</a> ) で 左上[Menu] &gt; [データ収集・蓄積・可視化] &gt; SORACOM Lagoon をクリック<br><img style="width: 234.61px" src="img/de9a9450aa5dd4ce.png"><img style="width: 296.00px" src="img/89c7c9ababb00190.png"></li>
<li>[SORACOM Lagoon の利用を開始する] をクリック<br><img style="width: 417.36px" src="img/3067f7eabc2b.png"></li>
<li>Free の [選択する] をクリックしてチェックが付いたのを確認したら [続行する] をクリック<br><img style="width: 535.36px" src="img/f6b35806bc3bd3e5.png"></li>
<li>SORACOM Lagoon における管理者のパスワードを設定します。<br>全てが✔になるようなパスワードを設定したら [利用開始] をクリック。<br>注: このパスワードは SORACOM ユーザコンソールにログインする時とは<strong>別のパスワードを推奨</strong>します。<br><img style="width: 298.36px" src="img/9e47fb1f1d4ff55f.png"></li>
<li>パスワードの登録が完了すると、SORACOM ユーザコンソールのルートアカウント(一番最初に登録したときのユーザ)のメールアドレスをIDとして、先ほどのパスワードを設定した「SORACOM Lagoon ユーザ」が作成されます。<br>[SORACOM Lagoon console にアクセス] をクリックします。<br><img style="width: 606.36px" src="img/ea0601f8a75266b7.png"></li>
</ol>
<p>以上で SORACOM Lagoon の有効化は完了です。</p>
<h3 is-upgraded>SORACOM Lagoon にログインする</h3>
<ol type="1" start="1">
<li>「SORACOM Lagoon ユーザ」の ID とパスワードでログインします。<br><img style="width: 499.36px" src="img/dfd8570bb0786b1a.png"></li>
<li>SORACOM Lagoon ダッシュボードが表示されます。<br><img style="width: 502.36px" src="img/d6e485abcfca25dc.png"></li>
</ol>
<h3 is-upgraded>これまでのおさらいと、今後の作業</h3>
<p class="image-container"><img style="width: 661.72px" src="img/462eb9d87711705c.png"></p>
<p>ここまでで、SORACOM アカウントから SORACOM Lagoon の有効化と、Lagoon ユーザの作成までをおこなってきました。</p>
<p>これ以降は「ダッシュボード」と、その中でデータを実際に表示する「パネル」を作っていきます。</p>
<h3 is-upgraded>ダッシュボードを作成し「Clock パネル」を配置してみる</h3>
<ol type="1" start="1">
<li>左の<img style="width: 51.00px" src="img/b5f50a64b6dc229f.png">にカーソルを合わせると表示される [ダッシュボード] をクリック<br><img style="width: 330.00px" src="img/82eefc7b66ea18ff.png"></li>
<li>これが新しい「パネル作成」の画面です。[Clock] をクリック。<br>「時計」が表示されるようになりました。このパネルはウィンドウのようにサイズや表示位置の変更が可能です。<br>また、最後には状態を保存するために右上の [ダッシュボードを保存] をクリックします。名前を適宜付けて保存してください。<br><img style="width: 601.11px" src="img/a25120c6f4faf3a.png"><br>※この時計は SORACOM Lagoon を表示したPCやスマホの時計をそのまま表示しています</li>
<li>ダッシュボードが保存されたか確認してみます。左メニューの<img style="width: 53.00px" src="img/45e9ece3afbae74e.png">にカーソル合わせると表示される [管理] をクリックします。すると、先ほどのダッシュボードがリストに表示されています。このダッシュボード (例だと &#34;New dashboard Copy&#34;) をクリックすると、ダッシュボードの内容が再度表示されます。<br><img style="width: 594.36px" src="img/bec17551a13fe781.png"></li>
</ol>
<p>SORACOM Lagoon のダッシュボード作成およびパネルの追加はここまでの手順を繰り返すことになります。</p>
<h3 is-upgraded>データを表示してみる (折れ線グラフ)</h3>
<ol type="1" start="1">
<li>ダッシュボードの内容を表示した後、右上の [パネルの追加] をクリックします。<br>その中に表示されている [Graph] をクリック。<br><img style="width: 455.36px" src="img/30380b40c45b45da.png"></li>
<li>[Panel Title] をクリックして表示される [編集] をクリック<br><img style="width: 261.00px" src="img/e6181e19294a1dbd.png"></li>
<li>表示するデータの設定方法：<br>メトリックタブの中でデータ表示したい SIM の IMSI (もしくは SIM の &#34;名前&#34; が設定されていれば名前) を選択<br><img style="width: 546.00px" src="img/b1af462c9ac916e.png"></li>
<li>表示するデータの範囲と更新期間の変更方法：<br>右上の<img style="width: 34.00px" src="img/36564501a17e56bc.png">をクリック<br>自動的に更新したい場合 → 自動更新を選択して [適用]<br>表示期間を変更したい場合 → 例えば [過去15分間] をクリック<br><img style="width: 539.36px" src="img/c21bc657574aa6da.png"></li>
<li>パネルの編集を終了する場合は右上の<img style="width: 52.00px" src="img/13c092df51e04a2b.png">をクリック<br>ダッシュボードに戻ると以下のように折れ線グラフが追加されています。最後にダッシュボードの保存を行います。<br><img style="width: 428.60px" src="img/b0c3d50edff21153.png"></li>
</ol>
<h3 is-upgraded>チャレンジ: SORACOM Image Panel</h3>
<p>画像を背景にして、重ね合わせをするパネル &#34;SORACOM Image Panel&#34; に挑戦してみてください。</p>
<ol type="1" start="1">
<li>右上の [パネルの追加] から、SORACOM Image Panel を選択します (クロックやグラフの時と同じ手順です）<br>(注: SORACOM <strong>Dynamic</strong> Image Panel とは異なります)</li>
<li>メトリックタブで値を選択<br>今回は Wio LTEが出力している温度 &#34;temp&#34; を対象とします<br><img style="width: 615.00px" src="img/b3021c8e492d23.png"></li>
<li>画像タブで背景画像の URL に以下を入力、また [縦横比を保つ] にチェックを付けます<br>https://ma2shita.s3.amazonaws.com/images/house.png<br><img style="width: 584.00px" src="img/7302c5eb7dd35439.png"></li>
<li>同じ画像タブの中の<img style="width: 120.00px" src="img/22f30386ab600d5d.png">をクリック<br>メトリックの名前: &#34;A-temp&#34;<br>X/Y座標: 30 40<br>幅／高さ: 100 100<br>しきい値: 27 32<br>とします。<br><img style="width: 603.36px" src="img/6df9462e772dc12c.png"></li>
</ol>
<p>これで、温度の値に応じて画像が変化します。(しきい値を変更してみて変化を見てください)</p>


      </google-codelab-step>
    
      <google-codelab-step label="SORACOM Air メタデータサービス を利用した「クラウド連携デバイス」" duration="0">
        <h2 is-upgraded>この章のゴール</h2>
<p class="image-container"><img style="width: 661.72px" src="img/39a8ec699f7fd77d.png"></p>
<p>一般的にデバイスの初期設定はデバイス内に格納されて出荷されます。しかし、この手法では、後で設定の変更を行いたくなった時の対応ができません。</p>
<p>たとえばデバイスの動作モードやセンサーの頻度、データの送信先の URL を変更するといったケースです。</p>
<p>SORACOM では SIM に紐づいた情報を設定・読み出しできるサービス「SORACOM Air メタデータサービス」というものを用意しおり、一つの解決策としてご利用いただくことができます。</p>
<p class="image-container"><img style="width: 462.36px" src="img/dadedfc250d90813.png"></p>
<p>今回ご用意している Wio LTE には、あらかじめ以下のような動作をするスケッチが書き込まれています。</p>
<ul>
<li>起動時にメタデータを取得して、その中から led_mode を探し、値が 1 だったら LED 点灯モードとして動作するようにする</li>
<li>もし見つからなければ「温湿度センサーセンシングモード」で動作する</li>
<li>同じく、メタデータの中から loop_interval を探し、値をセンシング間隔として利用する</li>
<li>もし見つからなければ(有効な値でなければ)、間隔を 10秒 に設定する</li>
</ul>
<h3 is-upgraded>手順の概要</h3>
<ol type="1" start="1">
<li>Wio LTE の電源を OFF</li>
<li>SORACOM Air メタデータサービス (SIM の「タグ」) を作成・編集する</li>
<li>Wio LTE の電源を ON</li>
<li>Wio LTE の LED 点灯を見てみる</li>
</ol>
<ol type="1" start="1">
<li>「タグ」を編集して動作の変化を見てみてください</li>
</ol>
<h2 is-upgraded>ハンズオン</h2>
<h3 is-upgraded>作業: Wio LTE の電源を OFF</h3>
<p>Wio LTE の microUSB ケーブルを抜き、電源を OFF にしてください</p>
<p>※いきなり抜いて OK です</p>
<p>※すでに OFF になっている場合は、次の作業へ進んでください</p>
<h3 is-upgraded>作業: SORACOM Air メタデータサービスを作成・編集する</h3>
<p>現在 SIM に紐づいているグループ (グループ名: Harvest) の設定でメタデータサービスを有効にします</p>
<ol type="1" start="1">
<li>Menu &gt; [SIM グループ] の一覧から harvest (もしくは先ほど SORACOM Harvest を有効にしたグループ) をクリック<br><img style="width: 199.36px" src="img/92e7a15a667ba62b.png"></li>
<li>&#34;SORACOM Air for Cellular 設定&#34; をクリックしたあと [メタデータサービス設定] を ON にしてから [保存] をクリック<br><img style="width: 498.36px" src="img/eb703ea6022b6c1c.png"></li>
<li>Menu &gt; [SIM 管理] の SIM 一覧から、Wio LTE に取り付けている SIM を選択し [詳細] をクリック<br><img style="width: 189.90px" src="img/e7d7315720d5017a.png"></li>
<li>SIM 詳細の画面で [タグ] をクリックしたあと [＋] をクリック<br><img style="width: 203.36px" src="img/61f5b9ef6f951c64.png"></li>
<li>表示された画面で [名前: <strong><code>led_mode</code></strong>] [値: <strong><code>1</code></strong>] と入力し、保存をクリック<br><img style="width: 500.36px" src="img/4ced1d3c5d55bdd0.png"></li>
<li>同様に [＋] をクリックし、[名前: <strong><code>loop_interval</code></strong>] [値: <strong><code>3000</code></strong>] と入力し、保存をクリック</li>
<li>（最終的に、以下のような画面になれば OK です）<br><img style="width: 407.00px" src="img/390b4c393b928ed9.png"></li>
</ol>
<h3 is-upgraded>作業: Wio LTE の電源を ON にする</h3>
<p>Wio LTE と PC を microUSB ケーブルで接続してください</p>
<h3 is-upgraded>作業: Wio LTE の LED 点灯を見てみる</h3>
<p>タグの <code>loop_interval</code> の値を 3000 から他の値 (例 500) に編集した後、Wio LTE の電源を OFF/ON してみて、LED の点灯がどのように変化するかを確認してみてください。</p>
<h2 is-upgraded>トラブルシュート</h2>
<p>メタデータサービスが ON になっていないと、従来通りの「温湿度センシングモード」で動作します。</p>
<h2 is-upgraded>本章のおさらい</h2>
<p><strong>※この項は知識として知っておいてください</strong></p>
<p>ここまでの操作で SORACOM Air メタデータサービスを利用した、デバイス設定を外部に保管することができるようになりました。</p>
<p class="image-container"><img style="width: 661.72px" src="img/39a8ec699f7fd77d.png"></p>
<h3 is-upgraded>メリット</h3>
<p>個別設定は外部(=SORACOM)に保管できるように構成できるため、顧客毎もしくはロット毎の設定の省力化が可能になる他、設定変更や不具合に対しても「まずは再起動」といったシンプルな運用を構築することができます。</p>


      </google-codelab-step>
    
      <google-codelab-step label="ハンズオン終了後の確認事項" duration="0">
        <h2 is-upgraded>今後の費用について</h2>
<p>SORACOM Air SIM は<strong>実際の通信の有無に限らず</strong>日当たりの基本料金が発生いたします</p>
<p>詳細は <a href="https://soracom.jp/services/air/cellular/price_specific_area_sim/" target="_blank">ご利用料金 - 特定地域向け IoT SIM</a> §2 をご覧ください</p>
<p>§2 https://soracom.jp/services/air/cellular/price_specific_area_sim/</p>
<h3 is-upgraded>SORACOM Harvest</h3>
<p>本ハンズオンで使用した SORACOM Harvest は、<strong>実際の通信の有無に限らず</strong> SORACOM Harvest が利用可能状態の SIM の枚数に応じて日当たりのオプション料金が発生します<br>詳細は <a href="https://soracom.jp/services/harvest/price/" target="_blank">SORACOM Harvest のご利用料金</a> §3 をご覧ください</p>
<p>§3 https://soracom.jp/services/harvest/price/</p>
<h3 is-upgraded>SORACOM Lagoon</h3>
<p>SORACOM Lagoon はプランに応じて費用が異なります。今回利用した Free プランは無料です。</p>
<p>詳細は <a href="https://soracom.jp/services/lagoon/price/" target="_blank">SORACOM Lagoon のご利用料金</a> §4 をご覧ください</p>
<p>§4 https://soracom.jp/services/lagoon/price/</p>
<h2 is-upgraded>長期利用割引について</h2>
<p>Air SIM のご契約期間をお約束いただくことで、基本料金が割引になる仕組みをご検討ください</p>
<ul>
<li><a href="https://soracom.jp/services/air/cellular/discount_price/" target="_blank">長期利用割引 - 日本向け Air SIM</a> §7</li>
<li><a href="https://blog.soracom.jp/blog/2017/05/23/long-term-discount/" target="_blank">長期利用割引に関する手続きやFAQ</a> §8</li>
</ul>
<p>§7 https://soracom.jp/services/air/cellular/discount_price/</p>
<p>§8 https://blog.soracom.jp/blog/2017/05/23/long-term-discount/</p>
<h3 is-upgraded>SORACOM Air SIM</h3>
<p>SIMの取り外しを参考に Wio LTE から取り出してください</p>
<p class="image-container"><img style="width: 252.08px" src="img/ee17a822352948ef.jpeg"><img style="width: 253.25px" src="img/1461b011573b3c6d.jpeg"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Wio LTE の開発＆書き込み済みのプログラムについて" duration="0">
        <p>本ハンズオンでは簡略化するため Wio LTE へのプログラム書き込みを省略しました</p>
<p>ソースコードは Gist で公開しています</p>
<p><a href="https://gist.github.com/ma2shita/ea5b5d67f9117db788c38a76338babe2" target="_blank">https://gist.github.com/ma2shita/ea5b5d67f9117db788c38a76338babe2</a></p>
<pre><code>#include &lt;WioLTEforArduino.h&gt;
#include &lt;stdio.h&gt;

#define INTERVAL        (10000)
#define RECEIVE_TIMEOUT (10000)

// uncomment following line to use Temperature &amp; Humidity sensor
#define SENSOR_PIN    (WIOLTE_D38)

WioLTE Wio;

int led_mode = 0;
long loop_interval = INTERVAL;
char a = &#34;aaaa&#34;;</code></pre>
<pre>ls -lF</pre>
<p>以上</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
